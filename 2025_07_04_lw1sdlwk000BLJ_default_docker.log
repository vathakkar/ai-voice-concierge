2025-07-04T22:18:01.7065278Z INFO:     Started server process [1]
2025-07-04T22:18:01.7069916Z INFO:     Waiting for application startup.
2025-07-04T22:18:01.7288494Z INFO:     Application startup complete.
2025-07-04T22:18:01.7561959Z INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-04T22:18:01.9384938Z INFO:     169.254.131.1:23265 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2025-07-04T22:18:06.1305548Z INFO:     169.254.131.1:23275 - "POST /webhook/acs-events HTTP/1.1" 200 OK
2025-07-04T22:18:06.1306480Z WARNING:root:Unknown event type: None
2025-07-04T22:18:12.8830384Z INFO:     169.254.131.1:56747 - "POST /webhook/acs-events HTTP/1.1" 200 OK
2025-07-04T22:18:18.5900557Z INFO:     169.254.131.1:56761 - "POST /acs/call-connected HTTP/1.1" 200 OK
2025-07-04T22:18:24.0531954Z INFO:     169.254.131.1:31947 - "POST /acs/call-ended HTTP/1.1" 200 OK
2025-07-04T22:19:04.8047723Z INFO:     169.254.131.1:21333 - "POST /webhook/acs-events HTTP/1.1" 200 OK
2025-07-04T22:20:03.9085715Z INFO:     169.254.131.1:15497 - "GET / HTTP/1.1" 200 OK
2025-07-04T22:20:06.2604876Z INFO:     169.254.131.1:15497 - "POST /webhook/acs-events HTTP/1.1" 200 OK
2025-07-04T22:20:06.2607944Z WARNING:root:Unknown event type: Microsoft.Communication.IncomingCall
2025-07-04T22:24:38.3444807Z WARNING:root:Unknown event type: Microsoft.Communication.IncomingCall
2025-07-04T22:24:38.3445689Z INFO:     169.254.131.1:38347 - "POST /webhook/acs-events HTTP/1.1" 200 OK
2025-07-04T22:24:43.1684549Z WARNING:root:Unknown event type: Microsoft.Communication.IncomingCall
2025-07-04T22:24:43.1972962Z INFO:     169.254.131.1:38347 - "POST /webhook/acs-events HTTP/1.1" 200 OK
2025-07-04T22:24:47.3688714Z WARNING:root:Unknown event type: Microsoft.Communication.IncomingCall
2025-07-04T22:24:47.3689322Z INFO:     169.254.131.1:38347 - "POST /webhook/acs-events HTTP/1.1" 200 OK
2025-07-04T22:25:25.3584190Z INFO:     Started server process [1]
2025-07-04T22:25:25.3951504Z INFO:     Waiting for application startup.
2025-07-04T22:25:25.4421324Z INFO:     Application startup complete.
2025-07-04T22:25:25.4428004Z INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-04T22:25:25.5704629Z INFO:     169.254.131.1:29711 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2025-07-04T22:25:45.9435787Z INFO:     Shutting down
2025-07-04T22:25:46.0523150Z INFO:     Waiting for application shutdown.
2025-07-04T22:25:46.0523407Z INFO:     Application shutdown complete.
2025-07-04T22:25:46.0625073Z INFO:     Finished server process [1]
2025-07-04T22:26:17.9436267Z INFO:     169.254.131.1:52101 - "GET / HTTP/1.1" 200 OK
2025-07-04T22:26:56.0293106Z INFO:     169.254.131.1:19533 - "POST /webhook/acs-events HTTP/1.1" 200 OK
2025-07-04T22:27:53.8496591Z INFO:     169.254.131.1:20701 - "POST /webhook/acs-events HTTP/1.1" 200 OK
2025-07-04T22:28:27.9413421Z INFO:     169.254.131.1:17403 - "POST /webhook/acs-events HTTP/1.1" 200 OK
2025-07-04T22:29:34.2272869Z INFO:     169.254.131.1:33723 - "POST /webhook/acs-events HTTP/1.1" 200 OK
2025-07-04T22:29:49.7778734Z INFO:     Shutting down
2025-07-04T22:29:49.8785651Z INFO:     Waiting for application shutdown.
2025-07-04T22:29:49.8786273Z INFO:     Application shutdown complete.
2025-07-04T22:29:49.8786304Z INFO:     Finished server process [1]
2025-07-04T22:31:20.3890684Z INFO:     Started server process [1]
2025-07-04T22:31:20.3897968Z INFO:     Waiting for application startup.
2025-07-04T22:31:20.4409473Z INFO:     Application startup complete.
2025-07-04T22:31:20.4418418Z INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-04T22:31:20.9177763Z INFO:     169.254.130.1:41859 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2025-07-04T22:31:21.1796279Z INFO:     169.254.130.1:41869 - "GET /docs HTTP/1.1" 200 OK
2025-07-04T22:31:21.2475209Z INFO:     169.254.130.1:41865 - "GET /openapi.json HTTP/1.1" 200 OK
2025-07-04T22:31:21.4398425Z INFO:     169.254.130.1:41865 - "GET /openapi.json HTTP/1.1" 200 OK
2025-07-04T22:31:45.8579454Z INFO:     169.254.130.1:61711 - "GET / HTTP/1.1" 200 OK
2025-07-04T22:31:51.6697756Z INFO:     169.254.130.1:36431 - "POST /webhook/acs-events HTTP/1.1" 200 OK
2025-07-04T22:34:13.2337999Z INFO:     169.254.130.1:39061 - "POST /webhook/acs-events HTTP/1.1" 200 OK
2025-07-04T22:37:45.7623236Z INFO:     169.254.130.1:20665 - "POST /webhook/acs-events HTTP/1.1" 200 OK
2025-07-04T22:37:45.7827766Z INFO:     169.254.130.1:20677 - "GET / HTTP/1.1" 200 OK
2025-07-04T22:37:55.2111517Z INFO:     169.254.130.1:48257 - "POST /webhook/acs-events HTTP/1.1" 200 OK
2025-07-04T22:38:32.0350032Z Traceback (most recent call last):
2025-07-04T22:38:32.0558566Z   File "/usr/local/bin/uvicorn", line 8, in <module>
2025-07-04T22:38:32.0560006Z     sys.exit(main())
2025-07-04T22:38:32.0560040Z              ^^^^^^
2025-07-04T22:38:32.0560072Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1442, in __call__
2025-07-04T22:38:32.0560096Z     return self.main(*args, **kwargs)
2025-07-04T22:38:32.0560142Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-07-04T22:38:32.0560166Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1363, in main
2025-07-04T22:38:32.0563051Z     rv = self.invoke(ctx)
2025-07-04T22:38:32.0563104Z          ^^^^^^^^^^^^^^^^
2025-07-04T22:38:32.0563134Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1226, in invoke
2025-07-04T22:38:32.0563157Z     return ctx.invoke(self.callback, **ctx.params)
2025-07-04T22:38:32.0563179Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-07-04T22:38:32.0563201Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 794, in invoke
2025-07-04T22:38:32.0563253Z     return callback(*args, **kwargs)
2025-07-04T22:38:32.0563273Z            ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-07-04T22:38:32.0563301Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 413, in main
2025-07-04T22:38:32.0563321Z     run(
2025-07-04T22:38:32.0563346Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 580, in run
2025-07-04T22:38:32.0563387Z     server.run()
2025-07-04T22:38:32.0563410Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2025-07-04T22:38:32.0563431Z     return asyncio.run(self.serve(sockets=sockets))
2025-07-04T22:38:32.0563451Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-07-04T22:38:32.0563472Z   File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
2025-07-04T22:38:32.0566100Z     return runner.run(main)
2025-07-04T22:38:32.0566187Z            ^^^^^^^^^^^^^^^^
2025-07-04T22:38:32.0566211Z   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2025-07-04T22:38:32.0566235Z     return self._loop.run_until_complete(task)
2025-07-04T22:38:32.0566256Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-07-04T22:38:32.0566279Z   File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
2025-07-04T22:38:32.0854019Z     return future.result()
2025-07-04T22:38:32.0854387Z            ^^^^^^^^^^^^^^^
2025-07-04T22:38:32.0854417Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2025-07-04T22:38:32.0854808Z     await self._serve(sockets)
2025-07-04T22:38:32.0854846Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2025-07-04T22:38:32.0854867Z     config.load()
2025-07-04T22:38:32.0854916Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 436, in load
2025-07-04T22:38:32.0854938Z     self.loaded_app = import_from_string(self.app)
2025-07-04T22:38:32.0854959Z                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-07-04T22:38:32.0854982Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 22, in import_from_string
2025-07-04T22:38:32.0855003Z     raise exc from None
2025-07-04T22:38:32.0855049Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2025-07-04T22:38:32.0855071Z     module = importlib.import_module(module_str)
2025-07-04T22:38:32.0855091Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-07-04T22:38:32.0855113Z   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2025-07-04T22:38:32.1155891Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-07-04T22:38:32.1156276Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-07-04T22:38:32.1156367Z   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2025-07-04T22:38:32.1156391Z   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2025-07-04T22:38:32.1156414Z   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2025-07-04T22:38:32.1156436Z   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2025-07-04T22:38:32.1156458Z   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2025-07-04T22:38:32.1156503Z   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-07-04T22:38:32.1156525Z   File "/app/main.py", line 7, in <module>
2025-07-04T22:38:32.1156548Z     from call_service import call_service
2025-07-04T22:38:32.1156569Z   File "/app/call_service.py", line 4, in <module>
2025-07-04T22:38:32.1156591Z     from azure.communication.callautomation.models import (
2025-07-04T22:38:32.1156613Z ModuleNotFoundError: No module named 'azure.communication.callautomation.models'
2025-07-04T22:38:33.7496924Z INFO:     169.254.130.1:25383 - "POST /webhook/acs-events HTTP/1.1" 200 OK
2025-07-04T22:38:56.5589863Z INFO:     Shutting down
2025-07-04T22:38:56.6453802Z INFO:     Waiting for application shutdown.
2025-07-04T22:38:56.6454230Z INFO:     Application shutdown complete.
2025-07-04T22:38:56.6454256Z INFO:     Finished server process [1]
2025-07-04T22:42:48.2542798Z INFO:     Started server process [1]
2025-07-04T22:42:48.2557249Z INFO:     Waiting for application startup.
2025-07-04T22:42:48.3064241Z INFO:     Application startup complete.
2025-07-04T22:42:48.3440694Z INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-04T22:42:48.8773997Z INFO:     169.254.130.1:28715 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2025-07-04T22:44:03.5602896Z INFO:     Started server process [1]
2025-07-04T22:44:03.5604703Z INFO:     Waiting for application startup.
2025-07-04T22:44:04.2233472Z INFO:     Application startup complete.
2025-07-04T22:44:04.2234264Z INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-04T22:44:04.2435043Z INFO:     169.254.130.1:23533 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2025-07-04T22:44:25.9834473Z INFO:     Shutting down
2025-07-04T22:44:26.0896946Z INFO:     Waiting for application shutdown.
2025-07-04T22:44:26.0897365Z INFO:     Application shutdown complete.
2025-07-04T22:44:26.0897387Z INFO:     Finished server process [1]
2025-07-04T22:57:19.7212338Z INFO:     169.254.130.1:37667 - "POST /twilio/voice HTTP/1.1" 404 Not Found
2025-07-04T22:57:57.9330782Z INFO:     Started server process [1]
2025-07-04T22:57:57.9418598Z INFO:     Waiting for application startup.
2025-07-04T22:57:57.9650821Z INFO:     Application startup complete.
2025-07-04T22:57:57.9651260Z INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-04T22:57:58.1961352Z INFO:     169.254.130.1:17693 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2025-07-04T22:58:18.6914230Z INFO:     Shutting down
2025-07-04T22:58:18.7917239Z INFO:     Waiting for application shutdown.
2025-07-04T22:58:18.7917767Z INFO:     Application shutdown complete.
2025-07-04T22:58:18.7917790Z INFO:     Finished server process [1]
2025-07-04T22:58:30.5641809Z INFO:     169.254.130.1:24833 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T22:59:12.9926921Z INFO:     169.254.130.1:47569 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:01:39.7020640Z INFO:     169.254.130.1:44037 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:02:19.2290694Z INFO:     Started server process [1]
2025-07-04T23:02:19.2386498Z INFO:     Waiting for application startup.
2025-07-04T23:02:19.3592942Z INFO:     Application startup complete.
2025-07-04T23:02:19.3593371Z INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-04T23:02:20.3720284Z INFO:     169.254.130.1:21995 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2025-07-04T23:02:24.8643377Z INFO:     169.254.130.1:47353 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:02:43.0920794Z INFO:     Shutting down
2025-07-04T23:02:43.8255899Z INFO:     Waiting for application shutdown.
2025-07-04T23:02:43.8256106Z INFO:     Application shutdown complete.
2025-07-04T23:02:43.8256125Z INFO:     Finished server process [1]
2025-07-04T23:06:02.2833717Z INFO:     169.254.130.1:55567 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:06:12.5454818Z INFO:     169.254.130.1:17363 - "POST /twilio/ai-response?session_id=f3244403-92de-41bb-bf60-04799938bf6e HTTP/1.1" 500 Internal Server Error
2025-07-04T23:06:12.5740456Z ERROR:    Exception in ASGI application
2025-07-04T23:06:12.5740903Z Traceback (most recent call last):
2025-07-04T23:06:12.5740926Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
2025-07-04T23:06:12.5740943Z     result = await app(  # type: ignore[func-returns-value]
2025-07-04T23:06:12.5740960Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-07-04T23:06:12.5741262Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
2025-07-04T23:06:12.5741293Z     return await self.app(scope, receive, send)
2025-07-04T23:06:12.5741310Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-07-04T23:06:12.5741330Z   File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
2025-07-04T23:06:12.5741380Z     await super().__call__(scope, receive, send)
2025-07-04T23:06:12.5741397Z   File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
2025-07-04T23:06:12.5741413Z     await self.middleware_stack(scope, receive, send)
2025-07-04T23:06:12.5741430Z   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
2025-07-04T23:06:12.5741453Z     raise exc
2025-07-04T23:06:12.5741470Z   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
2025-07-04T23:06:12.5741484Z     await self.app(scope, receive, _send)
2025-07-04T23:06:12.5741502Z   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
2025-07-04T23:06:12.5741539Z     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
2025-07-04T23:06:12.5741557Z   File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
2025-07-04T23:06:12.5741570Z     raise exc
2025-07-04T23:06:12.5741587Z   File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
2025-07-04T23:06:12.5741601Z     await app(scope, receive, sender)
2025-07-04T23:06:12.5741619Z   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
2025-07-04T23:06:12.5741633Z     await self.middleware_stack(scope, receive, send)
2025-07-04T23:06:12.5741650Z   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
2025-07-04T23:06:12.5741664Z     await route.handle(scope, receive, send)
2025-07-04T23:06:12.5741697Z   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
2025-07-04T23:06:12.5741712Z     await self.app(scope, receive, send)
2025-07-04T23:06:12.5741728Z   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
2025-07-04T23:06:12.5741744Z     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
2025-07-04T23:06:12.5741761Z   File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
2025-07-04T23:06:12.5741774Z     raise exc
2025-07-04T23:06:12.5741791Z   File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
2025-07-04T23:06:12.5741808Z     await app(scope, receive, sender)
2025-07-04T23:06:12.5741843Z   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
2025-07-04T23:06:12.5741857Z     response = await f(request)
2025-07-04T23:06:12.5741871Z                ^^^^^^^^^^^^^^^^
2025-07-04T23:06:12.5741888Z   File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
2025-07-04T23:06:12.5741902Z     raw_response = await run_endpoint_function(
2025-07-04T23:06:12.5741917Z                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-07-04T23:06:12.5741934Z   File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
2025-07-04T23:06:12.5741948Z     return await dependant.call(**values)
2025-07-04T23:06:12.5741962Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-07-04T23:06:12.5741997Z   File "/app/main.py", line 203, in twilio_ai_response
2025-07-04T23:06:12.5742011Z     form = await request.form()
2025-07-04T23:06:12.5742026Z            ^^^^^^^^^^^^^^^^^^^^
2025-07-04T23:06:12.5742043Z   File "/usr/local/lib/python3.11/site-packages/starlette/requests.py", line 260, in _get_form
2025-07-04T23:06:12.5742057Z     assert parse_options_header is not None, (
2025-07-04T23:06:12.5742071Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-07-04T23:06:12.5742088Z AssertionError: The `python-multipart` library must be installed to use form parsing.
2025-07-04T23:07:00.6387037Z INFO:     169.254.130.1:61227 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:07:10.7466305Z INFO:     169.254.130.1:61227 - "POST /twilio/ai-response?session_id=9624f4bc-6ff1-45b4-8df5-11ea366ce469 HTTP/1.1" 500 Internal Server Error
2025-07-04T23:07:10.8186059Z ERROR:    Exception in ASGI application
2025-07-04T23:07:10.8186372Z Traceback (most recent call last):
2025-07-04T23:07:10.8186395Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
2025-07-04T23:07:10.8186414Z     result = await app(  # type: ignore[func-returns-value]
2025-07-04T23:07:10.8186431Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-07-04T23:07:10.8186449Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
2025-07-04T23:07:10.8186464Z     return await self.app(scope, receive, send)
2025-07-04T23:07:10.8186478Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-07-04T23:07:10.8186496Z   File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
2025-07-04T23:07:10.8186511Z     await super().__call__(scope, receive, send)
2025-07-04T23:07:10.8186547Z   File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
2025-07-04T23:07:10.8186564Z     await self.middleware_stack(scope, receive, send)
2025-07-04T23:07:10.8186583Z   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
2025-07-04T23:07:10.8186605Z     raise exc
2025-07-04T23:07:10.8186622Z   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
2025-07-04T23:07:10.8186637Z     await self.app(scope, receive, _send)
2025-07-04T23:07:10.8186654Z   File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
2025-07-04T23:07:10.8186671Z     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
2025-07-04T23:07:10.8186688Z   File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
2025-07-04T23:07:10.8186719Z     raise exc
2025-07-04T23:07:10.8186736Z   File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
2025-07-04T23:07:10.8186751Z     await app(scope, receive, sender)
2025-07-04T23:07:10.8186770Z   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
2025-07-04T23:07:10.8186785Z     await self.middleware_stack(scope, receive, send)
2025-07-04T23:07:10.8186802Z   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
2025-07-04T23:07:10.8186818Z     await route.handle(scope, receive, send)
2025-07-04T23:07:10.8186835Z   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
2025-07-04T23:07:10.8186852Z     await self.app(scope, receive, send)
2025-07-04T23:07:10.8186889Z   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
2025-07-04T23:07:10.8186906Z     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
2025-07-04T23:07:10.8186923Z   File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
2025-07-04T23:07:10.8186937Z     raise exc
2025-07-04T23:07:10.8186954Z   File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
2025-07-04T23:07:10.8186969Z     await app(scope, receive, sender)
2025-07-04T23:07:10.8186986Z   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
2025-07-04T23:07:10.8187002Z     response = await f(request)
2025-07-04T23:07:10.8187016Z                ^^^^^^^^^^^^^^^^
2025-07-04T23:07:10.8187032Z   File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
2025-07-04T23:07:10.8187066Z     raw_response = await run_endpoint_function(
2025-07-04T23:07:10.8187081Z                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-07-04T23:07:10.8187098Z   File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
2025-07-04T23:07:10.8187114Z     return await dependant.call(**values)
2025-07-04T23:07:10.8187128Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-07-04T23:07:10.8187144Z   File "/app/main.py", line 203, in twilio_ai_response
2025-07-04T23:07:10.8187158Z     form = await request.form()
2025-07-04T23:07:10.8187172Z            ^^^^^^^^^^^^^^^^^^^^
2025-07-04T23:07:10.8187189Z   File "/usr/local/lib/python3.11/site-packages/starlette/requests.py", line 260, in _get_form
2025-07-04T23:07:10.8187220Z     assert parse_options_header is not None, (
2025-07-04T23:07:10.8187235Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-07-04T23:07:10.8187252Z AssertionError: The `python-multipart` library must be installed to use form parsing.
2025-07-04T23:07:58.0046366Z INFO:     Started server process [1]
2025-07-04T23:07:58.0048452Z INFO:     Waiting for application startup.
2025-07-04T23:07:58.1046541Z INFO:     Application startup complete.
2025-07-04T23:07:58.1106772Z INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-04T23:07:58.9834319Z INFO:     169.254.130.1:21421 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2025-07-04T23:08:07.9561471Z INFO:     169.254.130.1:62043 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:08:19.3365762Z INFO:     Shutting down
2025-07-04T23:08:19.4374898Z INFO:     Waiting for application shutdown.
2025-07-04T23:08:19.4375461Z INFO:     Application shutdown complete.
2025-07-04T23:08:19.4375485Z INFO:     Finished server process [1]
2025-07-04T23:09:12.0744721Z INFO:     169.254.130.1:18911 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:09:32.7292278Z INFO:     Started server process [1]
2025-07-04T23:09:32.7381768Z INFO:     Waiting for application startup.
2025-07-04T23:09:32.7687006Z INFO:     Application startup complete.
2025-07-04T23:09:32.7697922Z INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-04T23:09:33.1921775Z INFO:     169.254.130.1:56945 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2025-07-04T23:09:53.5977708Z INFO:     Shutting down
2025-07-04T23:09:53.7019397Z INFO:     Waiting for application shutdown.
2025-07-04T23:09:53.7019883Z INFO:     Application shutdown complete.
2025-07-04T23:09:53.7019906Z INFO:     Finished server process [1]
2025-07-04T23:10:55.4954119Z INFO:twilio:/twilio/voice endpoint called
2025-07-04T23:10:55.4954434Z INFO:twilio:Started new session: 8e5b4c53-5361-4dc2-9778-d8a6f11af511
2025-07-04T23:10:55.4954783Z INFO:     169.254.130.1:27585 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:11:31.4524835Z INFO:     Started server process [1]
2025-07-04T23:11:31.4540650Z INFO:     Waiting for application startup.
2025-07-04T23:11:31.5035483Z INFO:     Application startup complete.
2025-07-04T23:11:31.5223460Z INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-04T23:11:31.8540423Z INFO:     169.254.130.1:34953 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2025-07-04T23:11:52.2827972Z INFO:twilio:/twilio/voice endpoint called
2025-07-04T23:11:52.2828274Z INFO:twilio:Started new session: 4b7915bf-73d7-43f7-8a16-1223c4adafd7
2025-07-04T23:11:52.3012243Z INFO:     169.254.130.1:30885 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:11:52.3326649Z INFO:     Shutting down
2025-07-04T23:11:52.4346165Z INFO:     Waiting for application shutdown.
2025-07-04T23:11:52.4346501Z INFO:     Application shutdown complete.
2025-07-04T23:11:52.4346588Z INFO:     Finished server process [1]
2025-07-04T23:14:22.2624455Z INFO:twilio:/twilio/voice endpoint called
2025-07-04T23:14:22.2624952Z INFO:twilio:Started new session: 329e3e8b-c9b0-412d-8fa9-ccbc4d529538
2025-07-04T23:14:22.2648825Z INFO:     169.254.130.1:26479 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:14:25.6133834Z INFO:     169.254.130.1:26479 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:14:25.6134723Z INFO:twilio:/twilio/voice endpoint called
2025-07-04T23:14:25.6134755Z INFO:twilio:Started new session: 9d430a39-57fd-4c4e-8186-55d30cb2e6af
2025-07-04T23:14:55.7996938Z INFO:     169.254.130.1:26479 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:14:55.7997742Z INFO:twilio:/twilio/voice endpoint called
2025-07-04T23:14:55.7997770Z INFO:twilio:Started new session: 55914ac6-4b30-4e68-b2e6-730027f69ac2
2025-07-04T23:17:44.0866620Z INFO:     169.254.130.1:31859 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:17:44.0867508Z INFO:twilio:/twilio/voice endpoint called
2025-07-04T23:17:44.0867535Z INFO:twilio:Started new session: a6d4e111-349a-4883-a69a-95b8b3116e40
2025-07-04T23:18:21.5104145Z INFO:twilio:/twilio/voice endpoint called
2025-07-04T23:18:21.5104385Z INFO:twilio:Started new session: 37b57cc9-7f48-4b5e-8216-443e03e63f2c
2025-07-04T23:18:21.5103675Z INFO:     169.254.130.1:58567 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:18:28.1715108Z INFO:     Started server process [1]
2025-07-04T23:18:28.1718753Z INFO:     Waiting for application startup.
2025-07-04T23:18:28.1869602Z INFO:     Application startup complete.
2025-07-04T23:18:28.1874634Z INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-04T23:18:29.1488440Z INFO:     169.254.130.1:17649 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2025-07-04T23:18:49.4792467Z INFO:     Shutting down
2025-07-04T23:18:49.5826306Z INFO:     Waiting for application shutdown.
2025-07-04T23:18:49.5826774Z INFO:     Application shutdown complete.
2025-07-04T23:18:49.5826798Z INFO:     Finished server process [1]
2025-07-04T23:19:37.6357103Z INFO:twilio:/twilio/voice endpoint called
2025-07-04T23:19:37.6357573Z INFO:twilio:Started new session: 7e1c5bc8-e1c7-482b-b1d9-3217e8c415e3
2025-07-04T23:19:37.6367376Z INFO:     169.254.130.1:60599 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:19:58.9085090Z INFO:twilio:/twilio/ai-response endpoint called
2025-07-04T23:19:58.9132270Z INFO:twilio:Incoming form data: {'Called': '+18383682674', 'ToState': 'NY', 'CallerCountry': 'US', 'Direction': 'inbound', 'SpeechResult': "I'm talking to you about uh, the car's extended warranty.", 'CallerState': 'CA', 'Language': 'en-US', 'ToZip': '', 'Confidence': '0.92163116', 'CallSid': 'CAc8e4857db2fff1a840138e771679dfba', 'To': '+18383682674', 'CallerZip': '', 'ToCountry': 'US', 'CalledZip': '', 'ApiVersion': '2010-04-01', 'CalledCity': '', 'CallStatus': 'in-progress', 'From': '+19494827620', 'AccountSid': 'ACb163880de87c3612e896a993a7170490', 'CalledCountry': 'US', 'CallerCity': '', 'ToCity': '', 'FromCountry': 'US', 'Caller': '+19494827620', 'FromCity': '', 'CalledState': 'NY', 'FromZip': '', 'FromState': 'CA'}
2025-07-04T23:19:58.9135194Z INFO:twilio:session_id: 7e1c5bc8-e1c7-482b-b1d9-3217e8c415e3, retry: 0, user_speech: 'I'm talking to you about uh, the car's extended warranty.'
2025-07-04T23:19:58.9924835Z ERROR:twilio:Exception in /twilio/ai-response: 
2025-07-04T23:19:58.9925352Z 
2025-07-04T23:19:58.9925390Z You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.
2025-07-04T23:19:58.9925404Z 
2025-07-04T23:19:58.9925426Z You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 
2025-07-04T23:19:58.9925464Z 
2025-07-04T23:19:58.9925490Z Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`
2025-07-04T23:19:58.9925503Z 
2025-07-04T23:19:58.9925574Z A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742
2025-07-04T23:19:58.9925592Z 
2025-07-04T23:19:58.9944725Z INFO:     169.254.130.1:12913 - "POST /twilio/ai-response?session_id=7e1c5bc8-e1c7-482b-b1d9-3217e8c415e3&retry=0 HTTP/1.1" 200 OK
2025-07-04T23:21:51.9093167Z INFO:twilio:/twilio/voice endpoint called
2025-07-04T23:21:51.9100468Z INFO:twilio:Started new session: 3b502920-a6bc-47e2-96c5-f97217e5db4b
2025-07-04T23:21:51.9105279Z INFO:     169.254.130.1:23679 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:22:13.7283122Z INFO:twilio:/twilio/ai-response endpoint called
2025-07-04T23:22:13.7297579Z INFO:twilio:Incoming form data: {'Called': '+18383682674', 'ToState': 'NY', 'CallerCountry': 'US', 'Direction': 'inbound', 'SpeechResult': "This is about your car's extended warranty.", 'CallerState': 'CA', 'Language': 'en-US', 'ToZip': '', 'Confidence': '0.9641221', 'CallSid': 'CA1696bb8acc4057d8e594de85db563895', 'To': '+18383682674', 'CallerZip': '', 'ToCountry': 'US', 'CalledZip': '', 'ApiVersion': '2010-04-01', 'CalledCity': '', 'CallStatus': 'in-progress', 'From': '+19494827620', 'AccountSid': 'ACb163880de87c3612e896a993a7170490', 'CalledCountry': 'US', 'CallerCity': '', 'ToCity': '', 'FromCountry': 'US', 'Caller': '+19494827620', 'FromCity': '', 'CalledState': 'NY', 'FromZip': '', 'FromState': 'CA'}
2025-07-04T23:22:13.7302405Z INFO:twilio:session_id: 3b502920-a6bc-47e2-96c5-f97217e5db4b, retry: 0, user_speech: 'This is about your car's extended warranty.'
2025-07-04T23:22:13.7874797Z ERROR:twilio:Exception in /twilio/ai-response: 
2025-07-04T23:22:13.7875118Z 
2025-07-04T23:22:13.7875150Z You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.
2025-07-04T23:22:13.7875230Z 
2025-07-04T23:22:13.7875250Z You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 
2025-07-04T23:22:13.7875262Z 
2025-07-04T23:22:13.7875280Z Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`
2025-07-04T23:22:13.7875293Z 
2025-07-04T23:22:13.7875313Z A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742
2025-07-04T23:22:13.7875325Z 
2025-07-04T23:22:13.7893337Z INFO:     169.254.130.1:40547 - "POST /twilio/ai-response?session_id=3b502920-a6bc-47e2-96c5-f97217e5db4b&retry=0 HTTP/1.1" 200 OK
2025-07-04T23:22:35.2372692Z INFO:twilio:/twilio/voice endpoint called
2025-07-04T23:22:35.2580272Z INFO:     169.254.130.1:41287 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:22:35.8505109Z INFO:twilio:Started new session: 2a107258-458a-4a3c-b5a6-d10ab8b93061
2025-07-04T23:22:57.4781051Z INFO:twilio:/twilio/ai-response endpoint called
2025-07-04T23:22:57.4781460Z INFO:twilio:Incoming form data: {'Called': '+18383682674', 'ToState': 'NY', 'CallerCountry': 'US', 'Direction': 'inbound', 'SpeechResult': "and uh, asking you about the car's extended warranty,", 'CallerState': 'CA', 'Language': 'en-US', 'ToZip': '', 'Confidence': '0.8901153', 'CallSid': 'CA0de648ae056e254f6e8402d70b4a33dc', 'To': '+18383682674', 'CallerZip': '', 'ToCountry': 'US', 'CalledZip': '', 'ApiVersion': '2010-04-01', 'CalledCity': '', 'CallStatus': 'in-progress', 'From': '+19494827620', 'AccountSid': 'ACb163880de87c3612e896a993a7170490', 'CalledCountry': 'US', 'CallerCity': '', 'ToCity': '', 'FromCountry': 'US', 'Caller': '+19494827620', 'FromCity': '', 'CalledState': 'NY', 'FromZip': '', 'FromState': 'CA'}
2025-07-04T23:22:57.4781484Z INFO:twilio:session_id: 2a107258-458a-4a3c-b5a6-d10ab8b93061, retry: 0, user_speech: 'and uh, asking you about the car's extended warranty,'
2025-07-04T23:22:57.4781500Z ERROR:twilio:Exception in /twilio/ai-response: 
2025-07-04T23:22:57.4781526Z 
2025-07-04T23:22:57.4781549Z You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.
2025-07-04T23:22:57.4781561Z 
2025-07-04T23:22:57.4781602Z You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 
2025-07-04T23:22:57.4781616Z 
2025-07-04T23:22:57.4781634Z Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`
2025-07-04T23:22:57.4781646Z 
2025-07-04T23:22:57.4781664Z A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742
2025-07-04T23:22:57.4781676Z 
2025-07-04T23:22:57.4782160Z INFO:     169.254.130.1:60619 - "POST /twilio/ai-response?session_id=2a107258-458a-4a3c-b5a6-d10ab8b93061&retry=0 HTTP/1.1" 200 OK
2025-07-04T23:22:58.7146371Z INFO:     Started server process [1]
2025-07-04T23:22:58.7160040Z INFO:     Waiting for application startup.
2025-07-04T23:22:58.7959502Z INFO:     Application startup complete.
2025-07-04T23:22:58.7972527Z INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-04T23:22:59.7631660Z INFO:     169.254.130.1:17559 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2025-07-04T23:23:20.0593530Z INFO:     Shutting down
2025-07-04T23:23:20.1604894Z INFO:     Waiting for application shutdown.
2025-07-04T23:23:20.1605553Z INFO:     Application shutdown complete.
2025-07-04T23:23:20.1605578Z INFO:     Finished server process [1]
2025-07-04T23:23:35.8313455Z INFO:     169.254.130.1:10939 - "POST /twilio/ai-response?session_id=static123&retry=0 HTTP/1.1" 200 OK
2025-07-04T23:23:35.8314867Z INFO:twilio:/twilio/ai-response endpoint called (static TwiML test)
2025-07-04T23:26:18.6059197Z INFO:twilio:/twilio/voice endpoint called (static TwiML test)
2025-07-04T23:26:18.6261574Z INFO:     169.254.130.1:58915 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:26:22.3466819Z INFO:twilio:/twilio/ai-response endpoint called (static TwiML test)
2025-07-04T23:26:22.3468543Z INFO:     169.254.130.1:58915 - "POST /twilio/ai-response?session_id=static123&retry=0 HTTP/1.1" 200 OK
2025-07-04T23:26:35.6612674Z INFO:     Started server process [1]
2025-07-04T23:26:35.6620128Z INFO:     Waiting for application startup.
2025-07-04T23:26:35.6859271Z INFO:     Application startup complete.
2025-07-04T23:26:35.6872724Z INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-04T23:26:36.2746546Z INFO:     169.254.130.1:60801 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2025-07-04T23:26:50.0626661Z INFO:twilio:/twilio/voice endpoint called (static TwiML test)
2025-07-04T23:26:50.0627932Z INFO:     169.254.130.1:14247 - "POST /twilio/voice HTTP/1.1" 200 OK
2025-07-04T23:26:53.6730155Z INFO:     169.254.130.1:14247 - "POST /twilio/ai-response?session_id=static123&retry=0 HTTP/1.1" 200 OK
2025-07-04T23:26:53.6730946Z INFO:twilio:/twilio/ai-response endpoint called (static TwiML test)
2025-07-04T23:26:56.6336518Z INFO:     Shutting down
2025-07-04T23:26:56.7434401Z INFO:     Waiting for application shutdown.
2025-07-04T23:26:56.7434745Z INFO:     Application shutdown complete.
2025-07-04T23:26:56.7434769Z INFO:     Finished server process [1]
